<MudStack Spacing="2">
    @if (ShowControls)
    {
        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="1">
            <MudText Typo="Typo.body2">ズーム</MudText>
            <MudSlider T="int" Min="@MinZoom" Max="@MaxZoom" Step="5"
                       @bind-Value="@Zoom"
                       Class="w-100" />
            <MudText Typo="Typo.body2">@Zoom %</MudText>
            <MudButton Variant="Variant.Outlined" Size="Size.Small"
                       OnClick="() => Zoom = 100">100%</MudButton>
            <MudButton Variant="Variant.Outlined" Size="Size.Small"
                       OnClick="() => Zoom = Math.Min(Zoom + 25, MaxZoom)">+</MudButton>
            <MudButton Variant="Variant.Outlined" Size="Size.Small"
                       OnClick="() => Zoom = Math.Max(Zoom - 25, MinZoom)">-</MudButton>
        </MudStack>
    }

    <div class="zoom-wrap" style="height:@Height">
        <img src="@Src" alt="@Alt"
             style="width:@($"{Zoom}%");"
             draggable="false" />
    </div>
</MudStack>

@code {
    [Parameter] public string Src { get; set; } = default!;
    [Parameter] public string Alt { get; set; } = "image";
    [Parameter] public string Height { get; set; } = "70vh";
    [Parameter] public bool ShowControls { get; set; } = true;
    [Parameter] public int MinZoom { get; set; } = 25;
    [Parameter] public int MaxZoom { get; set; } = 400;

    private int _zoom = 100;
    [Parameter]
    public int Zoom
    {
        get => _zoom;
        set { _zoom = value; StateHasChanged(); }
    }
}
